<html>
<head>
<title>PMS-Jumpy</title>
<style type="text/css">
.black {
	color: black;
}
.orange {
	color: #ff6600;
}
.comment {
	color: dimgrey;
}
ul {
	list-style-type: disc;
}
.comment a:link a:visited a:hover a:active {
	text-decoration:none;
}
pre, code {
	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;
	/*color:darkblue;*/
	color:#0000BB;
	text-decoration: none;
	/*font-weight: bold;*/
}
code {
	white-space: pre;
}
kbd {
	/*color:darkblue;*/
	color:#0000BB;
	text-decoration: none;
	font-weight: bold;
}
body {
	font-family: sans-serif;
	padding-left: 2em;
	width: 50em;
}
table {
	border-collapse:collapse;
}
td {
	vertical-align:top;
	padding-right: 1em;
}
div.contents {
	position: fixed;
	height: auto;
	width: 12em;
	top: 2em;
	left: 2em;
	right: 5px;
/*   text-align: right;*/
	font-size: small;
}
div.main {
	width: 45em;
	margin-left: 15em;
}
</style>
</head>
<body>
<div class="contents">
<ul style="list-style-type:none;padding:0px;margin:10px;white-space:nowrap;">
<center><a href="#TOP">BASICS</a></center><br/>
<li><a href="#REQUIREMENTS">Requirements</a></li>
<li><a href="#XBMC">XBMC Installation</a></li>
<li><a href="#PHANTOMJS">PhantomJS Installation</a></li>
<li><a href="#INSTALLATION">Plugin Installation</a></li>
<li><a href="#BOOKMARKS">Bookmarks</a></li>
<li><a href="#LOGCONF">Log and Conf</a></li>
<li><a href="#BUGS">Bugs</a></li>
<li><a href="#SCRIPTSINI">jumpy-scripts.ini</a></li>
<li><a href="#WEBREADER">Webreader</a></li>
<li><a href="#FEEDREADER">Feedreader</a></li>
<br/>
<center><a href="scripts.html">SCRIPTS</a></center><br/>
<li><a href="scripts.html#QUICKSTART">Quick Start</a></li>
<li><a href="scripts.html#QUICKSTARTPLAYER">Quick Start - Players</a></li>
<li><a href="scripts.html#API">API</a></li>
<li><a href="scripts.html#OTHERSCRIPTS">Other Languages</a></li>
<!--<li><a href="scripts.html#ARRAY">Array Notation</a></li>-->
<li><a href="scripts.html#PLAYERS">Players</a></li>
<li><a href="scripts.html#INTERPRETERS">Interpreters</a></li>
<li><a href="scripts.html#JUMPSTART">Jumpstarting Scripts</a></li>
<li><a href="#EXAMPLES">Examples</a></li>
<!--<ul>-->
<!--<a href="scripts.html#HELLOPY">py</a></li> <a href="scripts.html#HELLOSH">sh</a>-->
<!--<a href="scripts.html#HELLOPL">pl</a> <a href="scripts.html#HELLOBAT">bat</a</li>-->
<!--</ul>-->
<!--<center>LINKS</center><br/>-->
<br/><br/><br/>
<li><a href="https://github.com/skeptical/jumpy/downloads" target="_blank">Download</a></li>
<li><a href="http://www.ps3mediaserver.org/forum/viewtopic.php?f=12&t=12518" target="_blank">Forum</a></li>
<li><a href="https://github.com/skeptical/jumpy" target="_blank">Code</a></li>
</ul>
</div>
<div class="main">
<a name="TOP"><H3 style="color:darkblue"><span class="orange">PMS-Jumpy</span> - Jump into Python (and onto XBMC)</H3></a>

PMS-Jumpy (<span class="orange">J</span>ava <span class="orange">U</span>nderlay for <span class="orange">M</span>odules in <span class="orange">PY</span>thon) is a framework for scripts or other external processes to plug into <a href="http://www.ps3mediaserver.org/" target="_blank">PS3 Media Server</a> (or its cousin <a href="http://www.universalmediaserver.com/" target="_blank">UMS</a>) and mainly
<ul>
<li>add folders and media items to the xmb.</li>
<li>act as user-defined external players.</li>
</ul>
The API is accessible from python via jumpy's python module, or from other languages via system calls. Interaction is through a localhost socket managed by <a href="http://py4j.sourceforge.net" target="_blank">py4j</a>.
<br/><br/>
Jumpy began with my having grown tired of occasionally poaching stuff 'by hand' from <a href="http://xbmc.org" target="_blank">xbmc</a> addons for use in PMS, and deciding to see if I could mock the xbmc plugin API itself so as to run these addons under PMS as-is. The result is Jumpy plus <a href="https://github.com/skeptical/jumpy-xbmc">jumpy-xbmc</a>, an included set of python modules to 'jump' the xbmc addons.
<br/><br/>
Jumpy-xbmc works with most xbmc video addons: <i>Hulu, Free Cable, Al Jazeera, PBS, Academic Earth, YouTube</i>, and many more. Addons are 'mostly' functional in the sense that all content is shown but interactive features that require user input are inactive.
<br/><br/>
Jumpy itself is general-purpose, of course, and you can use it to plug your own scripts, python or other, into PMS as well.
<br/><br/>
<b><a name="WIN32SETUP">Windows Quick Setup</a></b>
<ol>
<li>Shut down PMS.
</li>
<li>Put <i><a href="https://github.com/downloads/skeptical/jumpy/pms-jumpy-0.2.3c.exe" target="_blank">pms-jumpy-0.2.3c.exe</a></i>
in your PMS <b><i>plugins</i> folder</b>.
<li>
Double-click it and follow through as usual with the Installers for Python and XBMC if they open up
(yes, you can install to alternate locations if you want).
</li>
<br/>
You should end up with
<i><code>jumpy</code>, <code>python</code>, <code>py4j</code>, <code>XBMC</code>, <code>rtmpdump</code>,
<code>phantomjs</code></i>, and an updated <i>PMS.conf</i> all ready to go and can skip
the next 4 sections ('mostly').
</li>
</ol>
<br/>
<b><a name="REQUIREMENTS">Requirements</a></b>
<ol>
<li><a href="http://www.python.org/download/releases/2.7.3/#download" target="_blank">Python 2.7</a>.
To make life simpler <a href="http://superuser.com/questions/143119/how-to-add-python-to-the-windows-path/143121#143121" target="_blank">add python to your system path</a>
and then set up <a href="http://pypi.python.org/pypi/setuptools#installation-instructions" target="_blank">easy_install</a>.
</li>
<li><a href="http://py4j.sourceforge.net/download.html" target="_blank">py4j</a>.
</li>
<li><a href="https://github.com/chocolateboy/pmsencoder" target="_blank">PMSEncoder</a> and
<a href="http://rtmpdump.mplayerhq.hu/" target="_blank">rtmpdump</a>, not required but indispensible as always.
</li>
</ol>
<br/>
<b><a name="XBMC">XBMC Installation</a></b> ("optional")
<ol>
<li>Install <a href="http://xbmc.org/download/" target="_blank">xbmc</a> using the default configuration
for your platform.
</li>
<li><a href="http://wiki.xbmc.org/index.php?title=Unofficial_Add-on_Repositories" target="_blank">Install and configure</a>
some <a href="http://wiki.xbmc.org/index.php?title=Category:All_add-ons" target="_blank">addons</a>
inside xbmc (and of course test them too, some are broken). You may need to configure username/password depending
on the addon, and so on.
</li>
</ol>
<br/>

<b><a name="PHANTOMJS">PhantomJS Installation</a></b> (optional)
<ul>
To use the included <a href="#WEBREADER">webreader</a> browser install <a href="http://phantomjs.org/download.html" target="_blank">phantomjs</a>
in one of these places:
<br/><br/>
<i>Windows or mac:</i>
<ul>
<li>inside your PMS installation's binaries folder (<i>win32</i> or <i>osx</i>).</li>
<li>inside the <i>plugins/jumpy/webreader</i> folder.</li>
</ul>
<i>Windows, mac, or linux:</i>
<ul>
<li>anywhere, adding its binary folder path to the <code>bin.path</code> setting in <i>PMS.conf</i>
(create it if it doesn't exist):
<ul><code>bin.path = c:\\path\\to\\phantomjsFolder</code></ul></li>
</ul>
</ul>
<br/>
<b><a name="INSTALLATION">Plugin Installation</a></b>
<ol>
<li>Unzip the <i><a href="https://github.com/skeptical/jumpy/downloads" target="_blank">latest version</a></i> to your PMS <i>plugins</i> folder.
</li>
<li>Open up <i>PMS.conf</i> and set <code>python.path</code>, e.g.
<pre>python.path = c:\\Python27\\python</pre>
If you're using rtmpdump, or want to enable a script language, let's say perl, create
a <code>.path</code> for each if it doesn't already exist:
<pre>
rtmpdump.path = c:\\rtmpdump\\rtmpdump.exe
perl.path = c:\\perl\\bin\\perl.exe
</pre>
</li>
<li>Restart PMS. You should see a 'Jumpy' folder on the xmb containing the examples and any
media addons found in your xbmc user directory.
</li>
</ol>
<br/>
<b><a name="BOOKMARKS">Bookmarks</a></b>
<ul>
Press the <i>Add bookmark</i> button in any folder to create a bookmark inside <i> Jumpy > Bookmarks</i>. These are saved to <b><i>jumpy-bookmarks.ini</i></b> in your PMS profile folder (wherever <i>PMS.conf</i> is). You can edit this file, for instance to change the labels or reorder the items.
</ul>
<br/>
<b><a name="LOGCONF">Log and Conf</a></b>
<ul>
Locations are according to your PMS installation (for quick access use the buttons on gui panel, otherwise see jumpy's init messages inside your <i>debug.log</i> for the specific paths):<br/><br/>
<ul>
<li><b><i>jumpy.log</i></b>: located wherever <i>debug.log</i> is.
</li><br/>
<li><b><i>jumpy.conf</i></b>: located wherever <i>PMS.conf</i> is.
The available settings are:
<pre><i class="comment"># whether to activate bookmarks (true|false)</i>
<b>bookmarks</b>=true

<i class="comment"># whether to qualify the bookmark name (true|false)
# e.g. 'Live :ESPN' instead of just 'Live'</i>
<b>verbose_bookmarks</b>=true

<i class="comment"># how often to refresh folder content in minutes
# (-1=never|0=always|1=one minute)</i>
<b>refresh</b>=60

<i class="comment"># whether to copy log output to the console (true|false)</i>
<b>debug</b>=false
</pre>
</li>
<li><b><i>PMS.conf</i></b>:
If you need to override the locations where jumpy looks for xbmc set:
<pre>
<i class="comment"># xbmc user folder</i>
<b>xbmc.path</b> = c:\\path\\to\\my\\XBMC
<i class="comment"># xbmc program folder</i>
<b>xbmc.main.path</b> = c:\\path\\to\\program\\XBMC
</pre>
You can set paths where external binaries needed by your scripts can be found,
separating them with '<code><span class="orange">;</span></code>' in Windows or '<code><span class="orange">:</span></code>' in linux/mac:
<pre>
<b>bin.path</b> = c:\somewhere\bin<span class="orange">;</span>c:\somewhere else
</pre>
You can also specify your preferred text editor for opening files from the gui:
<pre>
<b>text.editor</b> = c:\\path\\to\\my\\textEditor
</pre>
See also <a href="scripts.html#INTERPRETERS">Interpreters</a> for more <i>PMS.conf</i> settings.
</li><br/>
</ul>
</ul>
<b><a name="BUGS">Bugs</a></b>
<ul>
When reporting bugs please <a href="http://www.ps3mediaserver.org/forum/viewtopic.php?f=6&t=3507&p=38484#p38484">set logging to TRACE</a> and attach these together as one zip file (or use the <a href="https://github.com/SharkHunter/DbgPack">DbgPack</a> plugin):
<ul>
<i>&bull;PMS.conf &nbsp;&nbsp;&bull;debug.log &nbsp;&nbsp;&bull;jumpy.log &nbsp;&nbsp;&bull;jumpy-scripts.ini &nbsp;&nbsp;&bull;pmsencoder.log</i>
</ul>
</ul>
<br/>
<b><a name="SCRIPTSINI">jumpy-scripts.ini</a></b>
<ul>
Scripts are registered with jumpy via entries inside the user file <i>jumpy-scripts.ini</i>, which is located wherever
<i>PMS.conf</i> is in your setup. For quick access use the button on the gui.
<br/><br/>
Each script has its own section, where the section name <code>[...]</code> is also the label, interpreted as a
<a href="scripts.html#UNIXPATH"/>unix-style path</a> branching from jumpy's top folder:
<ul>
<pre>
[My Scripts/foo]
cmd = c:\path\to\foo.bat arg1 arg2
</pre>
</ul>
unless it begins with a '<code><span class="orange">+</span></code>' or '<code><span class="orange">-</span></code>',
in which case it will be executed automatically at startup or shutdown respectively (and the rest of
the label is irrelevant):
<ul>
<pre>
[<span class="orange">+</span>hi]
cmd = c:\path\to\hello.bat

[<span class="orange">-</span>bye]
cmd = c:\path\to\goodbye.bat
</pre>
</ul>
To disable a script put a '<code><span class="orange">#</span></code>' at the beginning of
the section name:
<ul>
<pre>
[<span class="orange">#</span>+hi]
cmd = c:\path\to\hello.bat
</pre>
</ul>
If <code>cmd</code> begins with the keyword <code><span class="orange">pms</span></code> it will be
interpreted as an API call using <i><a href="scripts.html#OTHERSCRIPTS">command-line syntax</a></i>.  The entry
below is equivalent to the first example above:
<ul>
<pre>
[<span class="orange">+</span>foo]
cmd = <span class="orange">pms</span> addFolder "My Scripts/foo" "c:\path\to\foo.bat arg1 arg2"
</pre>
</ul>
</ul>
<br/>

<b><a name="WEBREADER">Webreader</a></b>
<ul>
<i>Webreader</i> is a "poor man's" browser for PMS, which takes a snapshot of a given
web page and streams it as video. The view pans left to right (or optionally
right to left) and top to bottom in 4 second shots across the page. It requires <a href="#PHANTOMJS">PhantomJS</a>
to be intalled.
<br/><br/>
Try one of the web pages
in the <i>Examples/Web Reader</i> folder on the xmb to see how it works, but basically:
<br/>
<ul>
<li>Press <b><i>pause</i></b> to stop panning and read, press again to continue.</li>
<li>Pressing <b><i>back</i></b> takes you to the top of the page (on my Sony Bluray anyway,
your renderer may behave differently).</li>
</ul>
<br/>
To add web pages edit the <code>[+webreader]</code> section of
<i><a href="#SCRIPTSINI">jumpy-scripts.ini</a></i>, adding one page per line in this form:

<ul><pre>data = <i>name, url, [style]</i></pre></ul>

where
<ul>
<br/>
<li><code>name</code> is the item's label (or <a href="scripts.html#UNIXPATH">unix-style path</a>).
</li>
<li><code>url</code> is the address of the web page.
</li>
<li><code>style</code> is an optional field to control presentation and playback using this syntax:
<ul><i><code class="comment">format<span class="orange">:</span>delay_seconds<span class="orange">:</span>buffer_mb<span class="orange">+</span>pan<span class="orange">:</span>rdb_style<span class="orange">:</span>rdb_size<span class="orange">:</span>rdb_margin</code></i></ul>
where
<ul>
<li><code class="comment"><i>format</i></code> is the only required part and is either:
<ul>
<li><code>webpage</code> which is the default.
Here <code class="comment"><i>pan</i></code> can be
<ul>
<li><code>rtl</code> for right to left panning.</li>
<li><code>graphics</code> which maximizes the vertical overlap and is better suited to
viewing images as opposed to reading text.</li>
<li>or both, e.g. <code>webpage<span class="orange">+</span>rtl<span class="orange">:</span>graphics</code>.</li>
</ul>
</li>
</li>
<li><code>readability</code> (or <code>rdb</code>) which uses the arc90labs
<a href="http://code.google.com/p/arc90labs-readability/" target="_blank">readability</a>
script to clean up web pages into stripped-down article-like versions for easy
reading.
<ul>
<li><code class="comment"><i>rdb_style</i></code> is either <code>newspaper</code> (default), <code>novel</code>, <code>ebook</code>,
<code>terminal</code>, <code>apertura</code>, or <code>athelas</code>.
</li>
<li><code class="comment"><i>rdb_size</i></code> (font) is either <code>x-small</code>, <code>small</code>, <code>medium</code> (default),
<code>large</code>, or <code>x-large</code>.
</li>
<li><code class="comment"><i>rdb_margin</i></code> is either <code>x-narrow</code>, <code>narrow</code>, <code>medium</code> (default),
<code>wide</code>, or <code>x-wide</code>.
</li>
</ul>
see <i>jumpy/webreader/readability.css</i> (and edit it too if you like).
</li>
</ul>
<li><code class="comment"><i>delay_seconds<span class="orange">:</span>buffer_mb</i></code> are <a href="scripts.html#PLAYBACK">playback</a> settings.
</li>
</ul>
</ul>

<br/>
Some examples:
<pre>
	<i class="comment">; a typical page (webpage format by default)</i>
	data = My Pages/p1, http://www.foo.org/index.html
	<i class="comment">; a page in readabilty format</i>
	data = My Pages/p2, http://www.foo.org/article.html, rdb
	<i class="comment">; an rtl page in webpage format with a 10s delay</i>
	data = My Pages/p3, http://www.foo.org/index.html, webpage<span class="orange">:</span>10<span class="orange">+</span>rtl
	<i class="comment">; a page in readabilty novel format with a 10s delay and large font</i>
	data = My Pages/p4, http://www.foo.org/article.html, rdb<span class="orange">:</span>10<span class="orange">+</span>novel<span class="orange">:</span>large
</pre>
you can also include a <i>csv</i> file
<ul><pre>data = <i>name, filename.csv, [style]</i></pre></ul>
where the <i>csv</i> file looks like this:
<pre>
<i class="comment"># csv columns are: label, url, [style]
# default style is webpage
# comments and blank lines are allowed</i>

My Pages/p1, http://www.foo.org/index.html
My Pages/p2, http://www.foo.org/article.html, rdb
My Pages/p3, http://www.foo.org/index.html, webpage<span class="orange">:</span>10<span class="orange">+</span>rtl
My Pages/p4, http://www.foo.org/article.html, rdb<span class="orange">:</span>10<span class="orange">+</span>novel<span class="orange">:</span>large
</pre>


</ul>
<br/>

<b><a name="FEEDREADER">Feedreader</a></b>
<ul>
<i>Feedreader</i> loads rss feeds for browsing with webreader. Usage is similar to webreader
except that the default style is <code>readability</code>.
<br/><br/>
To add feeds edit the <code>[+feedreader]</code> section of
<i><a href="#SCRIPTSINI">jumpy-scripts.ini</a></i>, adding one feed per line in this form:

<ul><pre>data = <i>name, feedurl, [style]</i></pre></ul>
or a <i>csv</i> file containing feed urls
<ul><pre>data = <i>name, filename.csv, [style]</i></pre></ul>
where the <i>csv</i> file looks like this:
<pre>
<i class="comment"># csv columns are: label, url, [style]
# default style is readability
# comments and blank lines are allowed</i>

World news/World news, http://www.guardian.co.uk/world/, webpage:10
World news/World news, http://www.guardian.co.uk/world/rss
World news/UK, http://www.guardian.co.uk/uk/rss
World news/Europe, http://www.guardian.co.uk/world/europe/roundup/rss
</pre>
</ul>
<br/>


</div>
</body>
</html>

<!--http://wiki.xbmc.org/index.php?title=Python_Development-->
